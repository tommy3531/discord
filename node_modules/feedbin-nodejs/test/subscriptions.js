var chai = require('chai')

var Feedbin = require('../src/index');
var feedbin = new Feedbin(process.env.FEEDBIN_USERNAME, process.env.FEEDBIN_PASSWORD);

describe('subscriptions', function () {
	it ('should get subscriptions', function () {
		return feedbin.subscriptions.getAll();
	});

	it ('should get one subscription', function () {
		return feedbin.subscriptions.get('3842904');
	});

	it ('should create a subscription', function (done) {
		feedbin.subscriptions.create('https://wordpress.org/support/topic/just-some-random-questions/feed/')
			.then(function (response) {
				done();
			})
			.catch(function (err) {
				done(err);
			});
	});

	it ('should delete a subscription', function () {
		return feedbin.subscriptions.delete('3842913');
	});

	it ('should update a subscription', function () {
		return feedbin.subscriptions.update('3842904', {
			title: 'Lorem ipsum'
		});
	});
});
